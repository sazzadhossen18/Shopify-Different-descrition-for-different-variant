Html:
=====
<div class="variant-details">{{ product.selected_or_first_available_variant.metafields.custom.test }}</div>


Javascript:
==========

<script id="variant-metafield-data" type="application/json">
 {

   {% for variant in product.variants %}
   {% assign metafieldcontend = variant.metafields.custom.test %} 
  "{{ variant.id }}" : "{{ metafieldcontend }}" {% unless forloop.last %}, {% endunless %}
  {% endfor %}
 }
</script>


<script>
  var product = {{ product | json }};

  document.querySelectorAll('.variant-picker input[type="radio"]').forEach(radio => {
    radio.addEventListener('change', () => {

      // Collect selected option TEXTS in correct order
      let selectedOptions = [];

      document
        .querySelectorAll('.variant-picker input[type="radio"]:checked')
        .forEach(input => {
          const label = document.querySelector(`label[for="${input.id}"] span`);
          if (label) {
            selectedOptions.push(label.textContent.trim());
          }
        });

      // Find matching variant
      const matchedVariant = product.variants.find(variant => {
        return variant.options.every((opt, index) => {
          return opt === selectedOptions[index];
        });
      });

      if (!matchedVariant) {
        console.warn('No matching variant found', selectedOptions);
        return;
      }

      console.log('Matched variant:', matchedVariant);

      // Update product form ID
      document.querySelector('#product-id').value = matchedVariant.id;

      // Update URL
      const url = new URL(window.location.href);
      url.searchParams.set('variant', matchedVariant.id);
      window.history.replaceState({}, '', url);

    });
  });
</script>


  var product = {{ product | json }}
  
  document.querySelectorAll('input[type="radio"]').forEach( radio =>{
  radio.addEventListener("change", () => {

     //Selected Option
    var selectedOptions = [];
    document.querySelectorAll('input[type="radio"]:checked').forEach( radio =>{
        selectedOptions.push(radio.value)
    })


     //Finding Matched Variant
    var matchedVariant = product.variants.find(variant => {
      var pass = true;
      for(var i=0; i<selectedOptions.length; i++){
        if(selectedOptions.indexOf(variant.options[i]) == -1){
          pass = false
          break
        }
      }
      return pass
    })


    //Change Product Variant Id
    document.querySelector('#product-id').value = matchedVariant.id

     //Change url
    var url = new URLParse(window.location.href, true)
    url.query.variant =  matchedVariant.id
    window.history.replaceState(null, null, url.toString());

    
    //Different descrition for different variant
    const allvariant = JSON.parse(document.querySelector('#variant-metafield-data').textContent)
    const variantdetails = document.querySelector('.variant-details');
    variantdetails.textContent = allvariant[matchedVariant.id];
    
    
   });
    
  });
